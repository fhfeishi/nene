########################################################################
# 1) 全局默认策略
# 所有文本文件默认在检出和提交时都标准化为 LF
# 这解决了 Windows (CRLF) 和 Mac/Linux (LF) 的跨平台协作问题
########################################################################
* text=auto eol=lf

########################################################################
# 2) 强制“只当作二进制处理”的文件
# 禁止 Git 尝试对这些文件进行行尾转换或文本 Diff
########################################################################
*.ipynb -text

# 图片、字体等
*.png  -text
*.jpg  -text
*.jpeg -text
*.gif  -text
*.webp -text
*.ico  -text
*.eot  -text
*.ttf  -text
*.otf  -text
*.woff -text
*.woff2 -text

########################################################################
# 3) 源代码 / Web 资源
# 【修改】强制使用 LF。
# 这样无论在 Windows 还是 Mac，编辑器看到的都是 LF，
# 配合 Prettier 等工具极其顺滑，且不仅限于 web，
# Bash 脚本在 Linux 容器里跑也不会报错。
########################################################################
*.ts   text eol=lf
*.tsx  text eol=lf
*.js   text eol=lf
*.jsx  text eol=lf
*.css  text eol=lf
*.html text eol=lf
*.json text eol=lf
*.md   text eol=lf
*.svg  text eol=lf

########################################################################
# 4) Windows 脚本
# 【保留】这是唯一真正需要 CRLF 的地方
# 即使在 Linux 上 checkout 下来，它也保持 CRLF，
# 确保如果文件被传到 Windows CMD 运行是正常的。
########################################################################
*.bat  text eol=crlf
*.cmd  text eol=crlf
*.ps1  text eol=crlf

########################################################################
# 5) 依赖清单与锁文件
# 强制 LF，避免不同系统生成不同的哈希值
########################################################################
package.json       text eol=lf
package-lock.json  text eol=lf
yarn.lock          text eol=lf
pnpm-lock.yaml     text eol=lf